!function(z,f,P){"use strict";var M=ht.LiveNode=function(){M.superClass.constructor.apply(this)};ht.Default.def("ht.LiveNode",ht.Node,{_width:100,_height:35,_image:null,_enabled:!0,_editable:!0,_hover:!1,_pressed:!1,isEnabled:function(){return this._enabled},setEnabled:function(C){var _=this._enabled;this._enabled=C,this.fp("enabled",_,C)},isEditable:function(){return this._enabled},setEditable:function(u){var v=this._editable;this._editable=u,this.fp("editable",v,u)},isHover:function(){return this._hover},setHover:function(W){var h=this._hover;this._hover=W,this.fp("hover",h,W)},isPressed:function(){return this._pressed},setPressed:function(f){var g=this._pressed;this._pressed=f,this.fp("pressed",g,f)},getBackground:function(){var z,Z,e=this;return z=e._enabled?e._pressed?"live.background.active":e._hover?"live.background.hover":"live.background":"live.background.disabled",Z=e.s(z),Z?Z:e.s("live.background")},getForeground:function(){var _,t,s=this;return _=s._enabled?s._pressed?"live.label.active":s._hover?"live.label.hover":"live.label.color":"live.label.disabled",t=s.s(_),t?t:s.s("live.label.color")},setRotation:null,getUIClass:function(){return ht.graph.LiveNodeUI}});var m=ht.graph.LiveNodeUI=function(){m.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.LiveNodeUI",ht.Default.getInternal().ui().NodeUI,{freeDraw:function(b,D){var v=this,A=v._data,q=ht.Default.getImage(A._image);ht.Default.drawImage(b,q,D.x,D.y,D.width,D.height,A,v.gv)},onKeyDown:function(w){var h=this,e=h._data;return 32===w.keyCode||13===w.keyCode?(e.setPressed(!0),!0):void 0},onKeyUp:function(V){var T=this._data;(32===V.keyCode||13===V.keyCode)&&(T.setPressed(!1),T.onClicked&&T.onClicked(V))},onMouseOver:function(){this._data.setHover(!0)},onMouseOut:function(){this._data.setHover(!1)},onMouseDown:function(){this._data.setPressed(!0)},onMouseMove:function(){},onMouseUp:function(I){var Q=this._data;Q.setPressed(!1),Q.onClicked&&Q.onClicked(I)}});var c=ht.ButtonNode=function(){c.superClass.constructor.apply(this)};ht.Default.def("ht.ButtonNode",ht.LiveNode,{_image:"button_image"}),ht.Default.setImage("button_image",{width:{func:"getWidth"},height:{func:"getHeight"},clip: true,comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},gradient:{func:"style@live.gradient"},gradientColor:{func:"style@live.gradient.color"},background:{func:"getBackground"},rect:[0,0,1,1],relative:!0},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getForeground"},font:{func:"style@live.label.font"},rect:[0,0,1,1],relative:!0,offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var C=ht.ToggleButtonNode=function(){C.superClass.constructor.apply(this)};ht.Default.def("ht.ToggleButtonNode",ht.ButtonNode,{_selected:!1,getUIClass:function(){return ht.graph.ToggleButtonNodeUI},getBackground:function(){var k,I,Z=this;return Z._enabled?(Z._hover&&(k="live.background.hover"),Z.s(k)||(k=Z._selected?"live.background.active":"live.background")):k="live.background.disabled",I=Z.s(k),I?I:Z.s("live.background")},getForeground:function(){var F,U,e=this;return e._enabled?(e._hover&&(F="live.label.hover"),e.s(F)||(F=e._selected?"live.label.active":"live.label.color")):F="live.label.disabled",U=e.s(F),U?U:e.s("live.label.color")},isSelected:function(){return this._selected},setSelected:function(U){var N=this,M=N._selected,$=N._buttonGroup;N._selected=U,N.fp("selected",M,U)&&($&&U&&$._selected!==N&&($._selected&&$._selected.setSelected(!1),$._selected=N,$.onChanged(N)),N.onChanged(U))},onChanged:function(){}});var q=ht.graph.ToggleButtonNodeUI=function(){q.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.ToggleButtonNodeUI",ht.graph.LiveNodeUI,{rectIntersects:function(){return!0},onKeyDown:function(O){var V=this;return q.superClass.onKeyDown.call(V,O)?(V.toggleSelect(),!0):void 0},onMouseDown:function(Q){var u=this;q.superClass.onMouseDown.call(u,Q),u.toggleSelect()},toggleSelect:function(){var L=this,Y=L._data;Y._buttonGroup?Y._selected||Y.setSelected(!0):Y.setSelected(!Y._selected),Y.setHover(!1)}});var n=ht.CheckboxNode=function(){var I=this;n.superClass.constructor.apply(I),I.s("live.label.align","left"),I.s("live.background",ht.Color.widgetIconBackground),I.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.CheckboxNode",ht.ToggleButtonNode,{_image:"checkbox_image",getBackground:function(){var Y,y=this;return Y=y._enabled?y._selected?"live.background.active":"live.background":"live.background.disabled",y.s(Y)},getForeground:function(){var x,o=this;return x=o._enabled?o._selected?"live.background.active":"live.background":"live.background.disabled",o.s(x)}}),ht.Default.setImage("checkbox_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},background:{func:"getBackground"},rect:{func:function(y){var U=(y._width,y._height);return{x:.1*U,y:.2*U,width:.6*U,height:.6*U}}}},{type:"shape",points:{func:function(J){var u=(J._width,J._height);return[.3*u,.5*u,.4*u,.6*u,.55*u,.35*u]}},borderWidth:{func:function(r){return.05*r._height}},borderColor:"#FFFFFF",visible:{func:function(s){return s._selected||s._hover}}},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getForeground"},font:{func:"style@live.label.font"},rect:{func:function(d){var H=d._width,z=d._height;return{x:.8*z,y:0,width:H-.8*z,height:z}}},offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var J=ht.RadioButtonNode=function(){var T=this;J.superClass.constructor.apply(T),T.s("live.label.align","left"),T.s("live.background",ht.Color.widgetIconBackground),T.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.RadioButtonNode",ht.ToggleButtonNode,{_image:"radioButton_image",getUIClass:function(){return ht.graph.RadioButtonNodeUI},getBackground:function(){var W,A=this;return W=A._enabled?A._selected?"live.background.active":"live.background":"live.background.disabled",A.s(W)},getForeground:function(){var x,L=this;return x=L._enabled?L._selected?"live.background.active":"live.background":"live.background.disabled",L.s(x)}}),ht.Default.setImage("radioButton_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:"circle",borderWidth:{func:function(k){return.1*k._height}},borderColor:{func:"getBackground"},rect:{func:function(R){var x=(R._width,R._height);return{x:.1*x,y:.2*x,width:.6*x,height:.6*x}}}},{type:"circle",background:{func:"getBackground"},rect:{func:function(Q){var w=(Q._width,Q._height);return{x:.3*w,y:.4*w,width:.2*w,height:.2*w}}},visible:{func:function(R){return R._selected||R._hover}}},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getBackground"},font:{func:"style@live.label.font"},rect:{func:function(H){var X=H._width,v=H._height;return{x:.8*v,y:0,width:X-.8*v,height:v}}},offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var U=ht.graph.RadioButtonNodeUI=function(){U.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.RadioButtonNodeUI",ht.graph.ToggleButtonNodeUI,{toggleSelect:function(){this._data._selected||this._data.setSelected(!0)}});var V=ht.SwitchNode=function(){var k=this;V.superClass.constructor.apply(k),k.s("live.background",ht.Color.widgetIconBackground),k.s("live.background.active",ht.Color.widgetIconHighlight),k.s("live.label.color",ht.Color.widgetIconBackground),k.s("live.label.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.SwitchNode",ht.ToggleButtonNode,{_image:"switch_image",getBackground:function(){return this.s(this._selected?"live.background.active":"live.background")},getForeground:function(){return this.s(this._selected?"live.label.active":"live.label.color")}}),ht.Default.setImage("switch_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},background:{func:"style@switch.background"},opacity:{func:function(M){return M._enabled?1:.5}},rect:[0,0,1,1],relative:!0},{type:"circle",background:{func:"getBackground"},opacity:{func:function(l){return l._enabled?1:.5}},rect:{func:function(x){var b=30,r=10,S=x._selected;return{x:S?x._width-r-b:r,y:(x._height-b)/2,width:b,height:b}}}},{type:"text",text:{func:function(G){return G.s(G._selected?"switch.text.on":"switch.text.off")}},rect:[17,1,1],relative:!0,offsetX:{func:function(X){return X._selected?-10:10}},color:{func:"getForeground"},font:{func:"style@live.label.font"},align:{func:"style@live.label.align"}}]});var g=ht.ComboboxNode=function(){var o=this;g.superClass.constructor.apply(o),o.s("live.label.align","left")};ht.Default.def("ht.ComboboxNode",ht.LiveNode,{_image:"combobox_image",_buttonWidth:20,_maxHeight:200,_selectedIndex:-1,getUIClass:function(){return ht.graph.ComboboxNodeUI},getItems:function(){return this._items},setItems:function(i){var s=this._items;this._items=i,this.fp("items",s,i)},getSelectedItem:function(){return this._selectedItem},setSelectedItem:function(N){var i,w=this,j=w._items,W=w._selectedItem;!j||(i=j.indexOf(N))<0||(w._selectedItem=N,w._selectedIndex=i,w.s("live.label",N?w.getItemName(N):""),w.fp("selectedItem",W,N)&&w.onChanged(N))},getSelectedIndex:function(){return this._selectedIndex},setSelectedIndex:function(x){var i=this,M=i._items;!M||0>x||x>=M.length||(i._selectedIndex=x,i.setSelectedItem(M[x]))},getItemName:function(A){return A.label||A},onChanged:function(){}}),ht.Default.setImage("combobox_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},gradient:{func:"style@live.gradient"},gradientColor:{func:"style@live.gradient.color"},background:{func:"getBackground"},rect:[0,0,1,1],relative:!0},{type:"shape",points:{func:function(C){var e=C._buttonWidth,n=C._width,K=C._height;return[n-e+.5*e,.6*K,n-e+.75*e,.4*K,n-e+.25*e,.4*K]}},background:{func:function(P){return P._pressed?"#000000":"#FFFFFF"}}},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getForeground"},font:{func:"style@live.label.font"},rect:[0,0,1,1],relative:!0,offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var X=ht.graph.ComboboxNodeUI=function(){X.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.ComboboxNodeUI",ht.graph.LiveNodeUI,{rectIntersects:function(){return!0},onKeyDown:function(U){var J,S=this._data,n=0;return(37===U.keyCode||38===U.keyCode)&&(n=-1),(39===U.keyCode||40===U.keyCode)&&(n=1),n?(S._selectedIndex>=0?J=S._selectedIndex+n:S._items&&S._items.length>0&&(J=1===n?0:S.items.length-1),S.setSelectedIndex(J),this._ignore=!0,!0):27===U.keyCode||13===U.keyCode?(this._hidePopup(),!0):void 0},onMouseMove:function(){this._data._pressed&&(this._moved=!0)},onMouseUp:function(I){var V=this;X.superClass.onMouseUp.call(V,I),V._moved||(V._list?V._hidePopup():V._showPopup()),delete V._moved},_42:function(i){if(X.superClass._42.call(this,i),this._list&&this._data._selectedIndex>=0){var R=this._list.getDataModel().getDatas().get(this._data._selectedIndex);this._list.sm().ld()!==R&&this._list.sm().setSelection(R)}},_showPopup:function(){var H,S,U,b,z,R,m,w,g,j,T=this,a=T._data,E=a._items,Y=T.gv._view.getBoundingClientRect(),k=(a._position.x-a._width/2)*T.gv._zoom+T.gv.tx()+Y.left-T.gv._view.scrollLeft,p=(a._position.y+a._height/2)*T.gv._zoom+T.gv.ty()+Y.top-T.gv._view.scrollTop;if(E&&0!==E.length){for(H=new ht.DataModel,S=this._list=new ht.widget.ListView(H),S.getIcon=function(){return null},S.drawRow=function(R,z,n,N,F,Z,l){S._focusData===z&&(R.fillStyle=ht.Default.darker(z.s("live.background")),R.beginPath(),R.rect(N,F,Z,l),R.fill()),ht.widget.ListView.prototype.drawRow.apply(S,arguments)},U=0;U<E.length;U++)b=new ht.Data,b.setName(a.getItemName(E[U])),b._index=U,H.add(b),a._selectedIndex===U&&S.sm().setSelection(b);S.onSelectionChanged=function(){var Z=S.sm().ld();Z&&!T._ignore&&(a.setSelectedIndex(Z._index),T._hidePopup(),delete T._ignore)},S.getSelectBackground=function(L){var $=L.s("live.background");return L===S._focusData?ht.Default.darker($):$},S.getView().addEventListener("mousemove",function(s){S.setFocusData(S.getDataAt(s)),S.invalidateModel()}),w=ht.Default.getWindowInfo(),R=a._width,m=Math.min(S.getRowHeight()*E.length,a._maxHeight,w.height),g=w.width-R-10,j=w.height-m-10,k=k>g?g:k,p=p>j?j:p,k=0>k?0:k,p=0>p?0:p,z=S.getView().style,z.left=k+w.left+"px",z.top=p+w.top+"px",z.width=R+"px",z.height=m+"px",z.zIndex=1e4,z.background="white",z.borderWidth="1px",z.borderColor="#DDDDE0",z.borderStyle="solid",z.borderRadius="5px",document.body.appendChild(S.getView()),A(function(){T._hidePopup()})}},_hidePopup:function(){this._list&&(document.body.removeChild(this._list.getView()),delete this._list)}});var H=ht.ProgressBarNode=function(){var o=this;H.superClass.constructor.apply(o),o.s("label.position",17),o.s("live.background",ht.Color.widgetIconBackground),o.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.ProgressBarNode",ht.LiveNode,{_image:"progressBar_image",_value:0,getValue:function(){return this._value},setValue:function(z){var f=this._value;this._value=z,this.fp("value",f,z)},getName:function(){return this._value+"%"}}),ht.Default.setImage("progressBar_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:"rect",background:{func:"style@live.background"},rect:[0,0,1,1],relative:!0},{type:"rect",background:{func:"style@live.background.active"},rect:{func:function(x){return[0,0,x._value/100,.5]}},relative:!0},{type:"rect",background:{func:function(S){return ht.Default.darker(S.s("live.background.active"))}},rect:{func:function(Y){return[0,.5,Y._value/100,.5]}},relative:!0}]});var I=ht.SliderNode=function(){var j=this;I.superClass.constructor.apply(j),j.s("label.position",17),j.s("live.background",ht.Color.widgetIconBackground),j.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.SliderNode",ht.LiveNode,{_image:"slider_image",_orientation:"horizontal",_value:0,_min:0,_max:100,_step:1,getUIClass:function(){return ht.graph.SliderNodeUI},getOrientation:function(){return this._orientation},setOrientation:function(o){var A=this._orientation;this._orientation=o,this.fp("orientation",A,o)},isHorizontal:function(){var u=this._orientation;return"h"===u||"horizontal"===u},getValue:function(){return this._value},setValue:function(V){var e=this,t=e._min,W=e._max,s=e._step;t>V&&(V=t),V>W&&(V=W),V=Math.floor(V/s)*s;var z=e._value;e._value=V,e.fp("value",z,V)&&e.onChanged(V)},getMin:function(){return this._min},setMin:function(M){var p=this._min;this._min=M,this.fp("min",p,M),this.setValue(this._value)},getMax:function(){return this._max},setMax:function(Z){var t=this._max;this._max=Z,this.fp("max",t,Z),this.setValue(this._value)},getStep:function(){return this._step},setStep:function(y){var n=this._step;this._step=y,this.fp("step",n,y),this.setValue(this._value)},getName:function(){return this._value+""},onChanged:function(){}}),ht.Default.setImage("slider_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:"rect",background:{func:"style@live.background.active"},rect:{func:function(J){var i=J.s("slider.bar.size"),G=J.s("slider.thumb.size")+J.s("live.border.width"),n=J._value/(J._max-J._min),k=J.isHorizontal(),R=J._width,u=J._height;return{x:k?G:(R-i)/2,y:k?(u-i)/2:u-G-(u-2*G)*n,width:k?(R-2*G)*n:i,height:k?i:(u-2*G)*n}}}},{type:"rect",background:{func:"style@live.background"},rect:{func:function(M){var F=M.s("slider.bar.size"),n=M.s("slider.thumb.size")+M.s("live.border.width"),m=M._value/(M._max-M._min),Z=M.isHorizontal(),l=M._width,A=M._height;return{x:Z?n+(l-2*n)*m:(l-F)/2,y:Z?(A-F)/2:n,width:Z?(l-2*n)*(1-m):F,height:Z?F:(A-2*n)*(1-m)}}}},{type:"circle",borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},background:{func:"style@slider.thumb.background"},rect:{func:function(Q){var y=Q.s("slider.thumb.size"),A=Q._value/(Q._max-Q._min),r=Q.isHorizontal(),z=Q._width,C=Q._height;return{x:r?A*(z-2*y):z/2-y,y:r?C/2-y:(1-A)*(C-2*y),width:2*y,height:2*y}}}}]});var L=ht.graph.SliderNodeUI=function(){L.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.SliderNodeUI",ht.graph.LiveNodeUI,{rectIntersects:function(){return!0},onKeyDown:function(Q){var U=this._data,Y=U.isHorizontal(),M=0;return(Y&&37===Q.keyCode||!Y&&40===Q.keyCode)&&(M=-1),(Y&&39===Q.keyCode||!Y&&38===Q.keyCode)&&(M=1),M?(U.setValue(U._value+U._step*M),!0):void 0},onMouseDown:function(N){var i=this,f=i._data,H=ht.Default.getClientPoint(N);i._start=f.isHorizontal()?H.x:H.y,i._startValue=f._value},onDrag:function(a){var R=this;if(R._start===P)return!1;var r=R._data,i=r.isHorizontal(),k=r._step,w=ht.Default.getClientPoint(a),G=i?w.x:w.y,I=r.s("slider.thumb.size")+r.s("live.border.width"),n=i?r._width:r._height-2*I,f=(G-R._start)*(i?1:-1),B=(r._max-r._min)*f/n/R.gv._zoom;return r.setValue(R._startValue+Math.floor(B/k)*k),!0},onMouseUp:function(){delete this._start,delete this._startValue}});var Z=ht.SpinnerNode=function(){Z.superClass.constructor.apply(this),this._styleMap={},this._styleMap["label.position"]=16};ht.Default.def("ht.SpinnerNode",ht.LiveNode,{_image:"spinner_image",_value:0,_min:0,_max:100,_step:1,getUIClass:function(){return ht.graph.SpinnerNodeUI},getValue:function(){return this._value},setValue:function(B){B<this._min&&(B=this._min),B>this._max&&(B=this._max),B=Math.floor(B/this._step)*this._step;var F=this._value;this._value=B,this.fp("value",F,B)&&this.onChanged(B)},getMin:function(){return this._min},setMin:function(M){var Y=this._min;this._min=M,this.fp("min",Y,M),this.setValue(this._value)},getMax:function(){return this._max},setMax:function(u){var h=this._max;this._max=u,this.fp("max",h,u),this.setValue(this._value)},getStep:function(){return this._step},setStep:function(d){var I=this._step;this._step=d,this.fp("step",I,d),this.setValue(this._value)},getName:function(){return this._value+""},onChanged:function(){},getForeground:function(){return this.s(this._enabled?"live.label.active":"live.label.color")}}),ht.Default.setImage("spinner_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},gradient:{func:"style@live.gradient"},gradientColor:{func:"style@live.gradient.color"},background:{func:function(p){return p.s(p._enabled?"spinner.background":"live.background.disabled")}},rect:[0,0,1,1],relative:!0},{type:"rect",background:{func:function(W){var C;return C=W._topPressed?"live.background.active":W._topHover?"live.background.hover":"live.background",W.s(C)}},rect:{func:function(u){var o=u.s("spinner.button.width"),p=u.s("live.border.width");return{x:u._width-o,y:p,width:o-p,height:u._height/2-p}}}},{type:"shape",points:{func:function(t){var l=t.s("spinner.button.width"),D=t._width,r=t._height;return[D-l+.5*l,.15*r,D-l+.75*l,.4*r,D-l+.25*l,.4*r]}},background:{func:function(i){return i._topHover?"#000000":"#FFFFFF"}}},{type:"rect",background:{func:function(W){var e;return e=W._bottomPressed?"live.background.active":W._bottomHover?"live.background.hover":"live.background",W.s(e)}},rect:{func:function(n){var g=n.s("spinner.button.width"),l=n.s("live.border.width"),H=n._width,R=n._height;return{x:H-g,y:R/2,width:g-l,height:R/2-l}}}},{type:"shape",points:{func:function(Y){var K=Y.s("spinner.button.width"),_=Y._width,S=Y._height;return[_-K+.5*K,.9*S,_-K+.75*K,.65*S,_-K+.25*K,.65*S]}},background:{func:function(R){return R._bottomHover?"#000000":"#FFFFFF"}}}]});var _=ht.graph.SpinnerNodeUI=function(){_.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.SpinnerNodeUI",ht.graph.LiveNodeUI,{_refresh:function(i){var V=this._data,C=V.s("spinner.button.width"),c=this.gv.getLogicalPoint(i),j={x:V._position.x+V._width/2-C,y:V._position.y-V._height/2,width:C,height:V._height/2},s={x:V._position.x+V._width/2-C,y:V._position.y,width:C,height:V._height/2};V._topHover=ht.Default.containsPoint(j,c),V._bottomHover=ht.Default.containsPoint(s,c)},onKeyDown:function(W){var E=this._data,V=0;return 38===W.keyCode&&(V=1),40===W.keyCode&&(V=-1),V?(E.setValue(E._value+E._step*V),!0):void 0},onMouseOut:function(){var g=this._data;g._topHover=!1,g._bottomHover=!1,this.gv.invalidateData(g)},onMouseDown:function(Q){var X=this,M=X._data,f=0;X._refresh(Q),M._topPressed=M._topHover,M._bottomPressed=M._bottomHover,M._topPressed&&(f=1),M._bottomPressed&&(f=-1),f&&(M.setValue(M._value+M._step*f),X._timer&&clearTimeout(X._timer),X._interval&&clearInterval(X._interval),X._timer=setTimeout(function(){X._interval=setInterval(function(){M.setValue(M._value+M._step*f)},100)},1e3))},onMouseMove:function(r){this._refresh(r),this.gv.invalidateData(this._data)},onMouseUp:function(){var a=this,b=a._data;b._topHover=!1,b._bottomHover=!1,b._topPressed=!1,b._bottomPressed=!1,a.gv.invalidateData(b),a._timer&&(clearTimeout(a._timer),delete a._timer),a._interval&&(clearInterval(a._interval),delete a._interval)}}),ht.ButtonGroup=function(i){var m=this;m._items=new ht.List,m.addAll(i)},ht.Default.def("ht.ButtonGroup",f,{add:function(Y){var G=this;G._items.contains(Y)||(G._items.add(Y),Y._buttonGroup=G,G._selected&&Y._selected&&G._selected.setSelected(!1),Y._selected&&(G._selected=Y))},addAll:function(V){V&&new ht.List(V).each(self.add,self)},remove:function(a){var A=this;A._items.contains(a)&&(A._items.remove(a),delete a._buttonGroup,A._selected===a&&delete A._selected)},getItems:function(){return this._items},clear:function(){var e=this;e._items.each(e.remove,e)},getSelected:function(){return this._selected},onChanged:function(){}});var h=ht.Style,T=ht.Color,F=T.widgetBackground,y=T.widgetIconHighlight,p=ht.Default.labelSelectColor;h["live.shape"]="rect",h["live.border.width"]=1,h["live.border.color"]=T.widgetBorder,h["live.gradient"]="",h["live.gradient.color"]="#FFF",h["live.background"]=y,h["live.background.disabled"]=F,h["live.background.hover"]=ht.Default.brighter(y),h["live.background.active"]=ht.Default.darker(y),h["live.label"]="",h["live.label.offset.x"]=0,h["live.label.offset.y"]=0,h["live.label.align"]="center",h["live.label.font"]=P,h["live.label.color"]=p,h["live.label.disabled"]=T.widgetIconBackground,h["live.label.hover"]=p,h["live.label.active"]=p,h["switch.background"]=F,h["switch.text.on"]="ON",h["switch.text.off"]="OFF",h["slider.bar.size"]=6,h["slider.thumb.size"]=8,h["slider.thumb.background"]=y,h["spinner.background"]="#FFFFFF",h["spinner.button.width"]=20;var b=ht.graph.GraphView.prototype;b.getFocusData=function(){return this._focusData},b.handleKeyUp=function(H){var M=this._focusData,W=M&&this._25I[M._id];M&&M._enabled&&M._editable&&W&&W.onKeyUp&&W.onKeyUp(H)},b.handleMouseDown=function(b,y){this._focusData=y;var v=y&&this._25I[y._id];y&&y._enabled&&y._editable&&v&&v.onMouseDown&&v.onMouseDown(b)},b.handleMouseUp=function(l,M){var g=M&&this._25I[M._id];M&&M._enabled&&M._editable&&g&&g.onMouseUp&&g.onMouseUp(l)},b.handleMouseMove=function(L){var s=this._lastHoverData,g=s&&this._25I[s._id],x=this.getDataAt(L),X=x&&this._25I[x._id];s&&g&&s._enabled&&s._editable&&(s===x?g.onMouseMove&&g.onMouseMove(L):g.onMouseOut&&g.onMouseOut(L)),x&&s!==x&&x._enabled&&x._editable&&X&&X.onMouseOver&&X.onMouseOver(L),this._lastHoverData=x},b._93O=function(E,s){var S=s&&this._25I[s._id];return s&&s._enabled&&s._editable&&S&&S.onDrag&&S.onDrag(E)},b=ht.graph.DefaultInteractor.prototype,b.handle_keyup=function(W){this.gv.handleKeyUp&&this.gv.handleKeyUp(W)},b.handle_mousemove=function(d){this.gv.handleMouseMove&&this.gv.handleMouseMove(d)};var G=new ht.List,A=function(e){setTimeout(function(){G.add(e)},0)};z.addEventListener(ht.Default.isTouchable?"touchend":"mouseup",function(){G.size()>0&&setTimeout(function(){G.each(function(i){i()}),G.clear()},0)})}(this,Object);